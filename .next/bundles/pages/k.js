module.exports=__NEXT_REGISTER_PAGE("/k",function(){var e=webpackJsonp([6],{10:function(e,t,r){e.exports=r(46)},255:function(e,t,r){e.exports=r(256)},256:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(6);var a=r.n(n);var o=r(0);var u=r.n(o);var i=r(90);var s=r.n(i);var l=r(36);var c=r.n(l);var f=r(34);var d=r.n(f);var v=r(35);var p=r(47);var h=r(94);var m=r(9);var y=r.n(m);var b=r(23);function w(e){w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return w(e)}function k(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function u(e,t){try{var r=o[e](t);var u=r.value}catch(e){a(e);return}r.done?n(u):Promise.resolve(u).then(i,s)}function i(e){u("next",e)}function s(e){u("throw",e)}i()})}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function _(e,t,r){t&&E(e.prototype,t);r&&E(e,r);return e}function C(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;return x(e)}function O(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var j=function(e){O(t,e);function t(){var e;var r,n;g(this,t);for(var o=arguments.length,u=new Array(o),i=0;i<o;i++)u[i]=arguments[i];return C(n,(r=n=C(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),Object.defineProperty(x(n),"delete",{configurable:true,enumerable:true,writable:true,value:function(){var e=k(a.a.mark(function e(){var t,r,o;return a.a.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:t=window.confirm("Are you sure you want to delete this doc? This can not be undone.");if(t){a.next=3;break}return a.abrupt("return");case 3:a.next=5;return d()(y()("docs/"+n.props.id),{headers:{Authorization:Object(b["a"])()},method:"DELETE"}).catch(function(e){var t=e.message;return{ok:false,message:t}});case 5:r=a.sent;if(!r.ok){a.next=10;break}c.a.push("/",y()("/"));a.next=16;break;case 10:if(r.message){a.next=15;break}a.next=13;return r.json();case 13:o=a.sent;r.message=o.message;case 15:window.alert("Could not delete doc, ".concat(r.message));case 16:case"end":return a.stop()}},e,this)}));return function t(){return e.apply(this,arguments)}}()}),r))}_(t,[{key:"render",value:function e(){var t=this.props,r=t.found,n=t.id,a=t.doc;if(!r)return u.a.createElement(v["a"],null,u.a.createElement("h3",null,"Doc not found..."));return u.a.createElement(v["a"],null,u.a.createElement("h5",{style:{marginBottom:"1rem"}},a.dir,a.dir.length>0?"/":"",a.name," - ",u.a.createElement(s.a,{as:y()("edit/"+n),href:{pathname:"/edit",query:{id:n}}},u.a.createElement("a",{id:"edit"},"edit")),u.a.createElement("button",{className:"float-right",onClick:this.delete,style:{margin:"5px 0 0"}},"Delete")),u.a.createElement(p["a"],{source:a.md,className:"Markdown"}))}}]);return t}(o["Component"]);t["default"]=Object(h["a"])(j)},46:function(e,t,r){"use strict";var n=r(2);Object.defineProperty(t,"__esModule",{value:true});t.default=h;t.registerChunk=m;t.flushChunks=y;t.SameLoopPromise=void 0;var a=n(r(62));var o=n(r(56));var u=n(r(17));var i=n(r(7));var s=n(r(8));var l=n(r(18));var c=n(r(19));var f=n(r(27));var d=n(r(0));var v=r(15);var p=new f.default;function h(e,t){var r;var n;if(e instanceof b){r=e;n=t||{}}else{if(!e.modules||!e.render){var a="`next/dynamic` options should contain `modules` and `render` fields";throw new Error(a)}if(t){var f="Add additional `next/dynamic` options to the first argument containing the `modules` and `render` fields";throw new Error(f)}n=e}return function(e){(0,c.default)(t,e);function t(){var e;var r;(0,i.default)(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];r=(0,l.default)(this,(e=t.__proto__||(0,u.default)(t)).call.apply(e,[this].concat(o)));r.LoadingComponent=n.loading?n.loading:function(){return d.default.createElement("p",null,"loading...")};r.ssr=false!==n.ssr||n.ssr;r.state={AsyncComponent:null,asyncElement:null};r.isServer="undefined"===typeof window;r.loadBundleAgain=null;r.loadingBundle=false;r.ssr&&r.load();return r}(0,s.default)(t,[{key:"load",value:function e(){r?this.loadComponent():this.loadBundle(this.props)}},{key:"loadComponent",value:function e(){var n=this;r.then(function(e){var r=e.default||e;var a=(0,v.getDisplayName)(r);a&&(t.displayName="DynamicComponent for ".concat(a));if(n.mounted)n.setState({AsyncComponent:r});else{n.isServer&&m(e.__webpackChunkName);n.state.AsyncComponent=r}})}},{key:"loadBundle",value:function e(r){var a=this;this.loadBundleAgain=null;this.loadingBundle=true;var u=n.modules(r);var i=(0,o.default)(u);var s=i.length;var l={};var c=function e(){if(a.loadBundleAgain){a.loadBundle(a.loadBundleAgain);return}a.loadingBundle=false;t.displayName="DynamicBundle";var o=n.render(r,l);a.mounted?a.setState({asyncElement:o}):a.state.asyncElement=o};var f=function e(t){var r=u[t];r.then(function(e){var r=e.default||e;a.isServer&&m(e.__webpackChunkName);l[t]=r;s--;0===s&&c()})};i.forEach(f)}},{key:"componentDidMount",value:function e(){this.mounted=true;this.ssr||this.load()}},{key:"componentWillReceiveProps",value:function e(t){if(r)return;this.setState({asyncElement:null});if(this.loadingBundle){this.loadBundleAgain=t;return}this.loadBundle(t)}},{key:"componentWillUnmount",value:function e(){this.mounted=false}},{key:"render",value:function e(){var t=this.state,r=t.AsyncComponent,n=t.asyncElement;var a=this.LoadingComponent;if(n)return n;if(r)return d.default.createElement(r,this.props);return d.default.createElement(a,this.props)}}]);return t}(d.default.Component)}function m(e){p.add(e)}function y(){var e=(0,a.default)(p);p.clear();return e}var b=function(){(0,s.default)(e,null,[{key:"resolve",value:function t(r){var n=new e(function(e){return e(r)});return n}}]);function e(t){(0,i.default)(this,e);this.onResultCallbacks=[];this.onErrorCallbacks=[];this.cb=t}(0,s.default)(e,[{key:"setResult",value:function e(t){this.gotResult=true;this.result=t;this.onResultCallbacks.forEach(function(e){return e(t)});this.onResultCallbacks=[]}},{key:"setError",value:function e(t){this.gotError=true;this.error=t;this.onErrorCallbacks.forEach(function(e){return e(t)});this.onErrorCallbacks=[]}},{key:"then",value:function t(r,n){var a=this;this.runIfNeeded();var o=new e;var u=function e(){n?o.setResult(n(a.error)):o.setError(a.error)};var i=function e(){o.setResult(r(a.result))};if(this.gotResult){i();return o}if(this.gotError){u();return o}this.onResultCallbacks.push(i);this.onErrorCallbacks.push(u);return o}},{key:"catch",value:function t(r){var n=this;this.runIfNeeded();var a=new e;var o=function e(){a.setResult(r(n.error))};var u=function e(){a.setResult(n.result)};if(this.gotResult){u();return a}if(this.gotError){o();return a}this.onErrorCallbacks.push(o);this.onResultCallbacks.push(u);return a}},{key:"runIfNeeded",value:function e(){var t=this;if(!this.cb)return;if(this.ran)return;this.ran=true;this.cb(function(e){return t.setResult(e)},function(e){return t.setError(e)})}}]);return e}();t.SameLoopPromise=b},47:function(e,t,r){"use strict";var n=r(0);var a=r.n(n);var o=r(10);var u=r.n(o);function i(){i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return i.apply(this,arguments)}var s=function e(t){var r=function e(){var r="";var n={};if("undefined"!==typeof document){var o=document.querySelector(t);if(o){r=o.innerHTML;o.getAttributeNames().forEach(function(e){var t="class"===e?"className":e;n[t]=o.getAttribute(e)})}}return a.a.createElement("div",i({},n,{dangerouslySetInnerHTML:{__html:r}}))};return{loading:r}};var l=s;function c(){c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};return c.apply(this,arguments)}var f=u()(new(r(10).SameLoopPromise)(function(e,t){var n=92;try{var a=r(n);return e(a)}catch(e){}r.e(0).then(function(n){try{var a=r(92);a.__webpackChunkName="react_markdown_2310f29285bb72f338f5fec99785c0fb";e(a)}catch(e){t(e)}}.bind(null,r)).catch(r.oe)}),l(".Markdown"));var d=function e(t){return a.a.createElement("a",c({},t,{target:"_blank",rel:"noopener noreferrer"}))};var v={link:d};var p=function e(t){var r=t.className,n=t.source;return a.a.createElement(f,{className:r,source:n,renderers:v})};var h=t["a"]=p},94:function(e,t,r){"use strict";var n=r(6);var a=r.n(n);var o=r(0);var u=r.n(o);var i=r(22);var s=r(34);var l=r.n(s);var c=r(28);var f=r(9);var d=r.n(f);var v=r(23);function p(e){p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function e(t){return typeof t}:function e(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};return p(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;"value"in n&&(n.writable=true);Object.defineProperty(e,n.key,n)}}function y(e,t,r){t&&m(e.prototype,t);r&&m(e,r);return e}function b(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;return k(e)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return function(){var t=this,r=arguments;return new Promise(function(n,a){var o=e.apply(t,r);function u(e,t){try{var r=o[e](t);var u=r.value}catch(e){a(e);return}r.done?n(u):Promise.resolve(u).then(i,s)}function i(e){u("next",e)}function s(e){u("throw",e)}i()})}}var E=function(){var e=g(a.a.mark(function e(t,r){var n,o,u,i;return a.a.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:u=Object(v["a"])(r);if(u){a.next=3;break}return a.abrupt("return",{found:n,doc:o,id:t});case 3:a.next=5;return l()(d()("docs/"+t,Boolean(r)),{method:"GET",headers:{Authorization:u}});case 5:i=a.sent;if(!i.ok){a.next=11;break}a.next=9;return i.json();case 9:o=a.sent;n=true;case 11:return a.abrupt("return",{found:n,doc:o,id:t});case 12:case"end":return a.stop()}},e,this)}));return function t(r,n){return e.apply(this,arguments)}}();t["a"]=function(e){var t=function(t){w(r,t);function r(){var e;var t,n;h(this,r);for(var a=arguments.length,o=new Array(a),u=0;u<a;u++)o[u]=arguments[u];return b(n,(t=n=b(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(o))),Object.defineProperty(k(n),"state",{configurable:true,enumerable:true,writable:true,value:{found:false,id:null,doc:{}}}),t))}y(r,[{key:"componentDidUpdate",value:function(){var e=g(a.a.mark(function e(t){var r,n,o,u;return a.a.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:r=this.props,n=r.user,o=r.found,u=r.id;if(!(t.user.email===n.email||o)){a.next=3;break}return a.abrupt("return");case 3:if(n.email){a.next=5;break}return a.abrupt("return");case 5:a.t0=this;a.next=8;return E(u);case 8:a.t1=a.sent;a.t0.setState.call(a.t0,a.t1);case 10:case"end":return a.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}()},{key:"render",value:function t(){return u.a.createElement(e,this.state)}}],[{key:"getInitialProps",value:function(){var e=g(a.a.mark(function e(t){var r,n;return a.a.wrap(function e(a){while(1)switch(a.prev=a.next){case 0:r=t.query,n=t.req;a.next=3;return E(r.id,n);case 3:return a.abrupt("return",a.sent);case 4:case"end":return a.stop()}},e,this)}));return function t(r){return e.apply(this,arguments)}}()},{key:"getDerivedStateFromProps",value:function e(t,r){var n=t.found,a=t.id,o=t.doc;if(r.found!==n)return{found:n,id:a,doc:o};return null}}]);return r}(o["Component"]);return Object(i["b"])(c["a"])(t)}}},[255]);return{page:e.default}});